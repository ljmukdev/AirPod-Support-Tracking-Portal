{
  "version": "1.2.3",
  "build": "2024-12-19",
  "revision": "023",
  "changelog": [
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Reordered warranty registration steps: Contact Info (step 2), Setup Instructions (step 3), added Stripe payment (step 7)",
        "Added loadSetupInstructions function to fetch and display setup instructions from admin portal on step 3",
        "Fixed progress bar to update when showing verification steps and authenticity checks - now shows Step 1 of 7 throughout verification",
        "Removed verification step counter (Step X of 5) to eliminate confusion - now only shows main progress bar (Step X of 7)",
        "Fixed progress bar to update correctly when moving from verification steps to Contact Information step",
        "Fixed progress bar to show immediately when security code is entered or when coming from home page with barcode",
        "Fixed duplicate event listeners in markings verification",
        "Fixed step counter to correctly show Step 1 during verification and authenticity checks",
        "Fixed progress bar visibility on step 1 when product is displayed"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Added second-level authenticity check page - when user selects 'Yes' on serial number uniqueness, shows CE/R-NZ markings verification",
        "Added authenticity check page - when user selects 'No' on serial number uniqueness, shows authenticity graphics with explanation",
        "Both authenticity pages display relevant authenticity images from database for the purchased part"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Added setup instructions management system - admin panel, API endpoints, and dynamic display on warranty registration page",
        "Fixed header alignment to match content card and improved responsive design for mobile and desktop",
        "Fixed API_BASE redeclaration error in setup-instructions-manager.js"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Fixed API to include part_name in verify-barcode response by looking up from airpod_parts collection",
        "Fixed associated parts lookup to use correct collection name (airpod_parts)"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Updated purchased part display on step 1 to show part name with model number (e.g., 'Earbuds (Left) - USB-C (A3048)')"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Updated extended warranty card layout - three benefit icons now display on same line"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Fixed undefined showSuccessAnimation function call error on warranty registration completion"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Fixed compatible parts API response parsing - now correctly extracts compatibleParts array",
        "Fixed compatible parts display to use example images from database instead of silhouette placeholders",
        "Simplified associated parts selection - replaced autocomplete with checkbox list filtered by generation",
        "Associated parts now only show parts from the same generation to reduce scrolling"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Added autocomplete suggestions for associated parts field with visual tag display",
        "Added remove buttons on associated parts tags for easy management",
        "Fixed autocomplete initialization to ensure datalist is populated correctly"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Added associated parts field to admin panel - admins can now specify compatible parts for each part",
        "Associated parts are displayed with images during warranty registration compatibility check",
        "Updated compatible parts API to use database-stored associated_parts instead of hardcoded mappings",
        "Fixed A3048 compatibility display - now correctly shows A3047 and A2968 with images"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Added return process step with feedback form when user selects 'I want to return this item'",
        "Added 50% refund warning for opened items in return process",
        "Updated ebay-return.html to be cohesive with return flow",
        "Fixed return process step display - moved outside step1 container for proper visibility"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Fixed missing loadProductInfo function - product information now loads correctly when accessing warranty registration with barcode parameter",
        "Fixed version display conflict - removed version.js script from warranty-registration.html to prevent override"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Improved eBay return page messaging - added explanation about AirPod part compatibility requirements",
        "Added exchange option messaging on return page - customers can now request exchange for correct compatible part",
        "Enhanced compatibility explanation to clarify that only compatible parts will work with purchased AirPod part"
      ]
    },
    {
      "version": "1.2.3",
      "date": "2024-12-19",
      "changes": [
        "Fixed add-on sales product association - add-on sales now correctly match products by generation and part model number",
        "Added dynamic add-on sales display in warranty registration flow (step 6)",
        "Added API endpoint to fetch add-on sales for specific products",
        "Fixed syntax error in warranty-registration.js",
        "Updated add-on sales to display dynamically based on product associations"
      ]
    },
    {
      "version": "1.2.2",
      "date": "2024-12-19",
      "changes": [
        "Added Add-On Sales admin page for creating and managing add-on sales items",
        "Added product association feature - link add-on sales to products by generation or part model number",
        "Added image upload support for add-on sales items",
        "Added CRUD API endpoints for add-on sales management"
      ]
    },
    {
      "version": "1.2.1",
      "date": "2024-12-19",
      "changes": [
        "Fixed API_BASE duplicate declaration error in warranty-terms.js",
        "Added version display to warranty-terms admin page",
        "Improved script loading to prevent variable conflicts"
      ]
    },
    {
      "version": "1.2.0",
      "date": "2024-12-19",
      "changes": [
        "Redesigned customer portal home page with logo in white circle and improved professional styling",
        "Added ability to enable/disable warranty options in admin panel",
        "Added admin downloads page for accessing and downloading graphics and logos",
        "Updated support email address to airpodsupport@ljmuk.co.uk across all pages",
        "Updated confirmation text to reflect user confirmation of photo review",
        "Added warranty management page in admin panel with delete functionality",
        "Updated button text to 'Complete Payment and Progress to Pairing Instructions' when extended warranty selected",
        "Fixed billing address section visibility - moved inside payment section to appear directly after card number field",
        "Added billing address collection for payment compliance",
        "Separated payment processing into dedicated 'Process Payment' button",
        "Improved Stripe integration with Address Verification System (AVS)",
        "Enhanced form validation and user flow",
        "Completed image modal functionality with full navigation support (keyboard, buttons, overlay close)",
        "Added carousel scroll listeners for real-time indicator updates",
        "Redesigned step 1 to show product record immediately after security code entry",
        "Added enhanced guidance and 'What happens next?' instructions on step 1",
        "Improved user flow with product verification before proceeding to contact details",
        "Fixed auto-advance issue preventing product display on step 1",
        "Added safeguards to ensure product record stays visible before advancing",
        "Fixed loadProductInfo to not trigger step 4 warranty confirmation logic on step 1",
        "Clear saved state when coming from home page to prevent step conflicts",
        "Added debug logging to trace step navigation issues",
        "Removed security code entry section when coming from home page",
        "Updated step 1 with detailed compatibility and authenticity verification instructions",
        "Added dynamic compatible part number display based on purchased product",
        "Enhanced guidance with CE/R-NZ marking verification and serial number checks",
        "Redesigned verification into interactive step-by-step flow with one question at a time",
        "Added auto-advance between verification steps with checkbox completion",
        "Added visual CE and R-NZ compliance logos to step 2 authenticity verification",
        "Added visual diagram showing where to find markings on AirPod case lid and earbuds",
        "Improved diagrams to show case lid markings (CE and AR-NZ) and AirPod stem markings (CE and UKCA)",
        "Redesigned diagrams with yellow background and more accurate proportions matching actual AirPod photos",
        "Fixed authenticity images display issue - enhanced logging and error handling",
        "Fixed compatible parts images - use SVG paths directly from JSON instead of trying JPG first",
        "Added comprehensive debugging for authenticity image API endpoint",
        "Improved image serving route with better error handling and content-type headers",
        "Enhanced frontend error handling with detailed console logging for image loading"
      ]
    },
    {
      "version": "1.1.0",
      "date": "2024-12-19",
      "changes": [
        "Implemented Stripe payment integration for extended warranties",
        "Added dynamic warranty pricing management",
        "Added warranty registration flow with free and extended options",
        "Marketing consent checkbox default checked"
      ]
    },
    {
      "version": "1.0.0",
      "date": "2024-12-18",
      "changes": [
        "Initial release",
        "Admin panel for product management",
        "Customer portal with barcode verification",
        "Pairing instructions for AirPod parts",
        "OCR image recognition for serial numbers",
        "Railway persistent volume integration"
      ]
    }
  ]
}

